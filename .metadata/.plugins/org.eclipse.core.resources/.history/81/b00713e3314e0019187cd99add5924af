package com.restaurant.api.repo;

import java.util.List;

import org.springframework.data.jpa.repository.JpaRepository;
import org.springframework.data.jpa.repository.Query;

import com.restaurant.api.bean.RestaurantBean;
import com.restaurant.api.bean.ResturantandLocationDTO;

public interface RestaurantRepo extends JpaRepository<RestaurantBean, Integer>{

	@Query(value = "select rb.id as id,rb.name as name,rb.cuisines as cuisines,rb.average_cost_for_two as average_cost_for_two,rb.currency as currency, \r\n" + 
			"rb.has_Table_Booking as has_Table_Booking, rb.has_Online_Delivery  as has_Online_Delivery,rb.aggregate_Rating as aggregate_Rating, \r\n" + 
			"rb.rating_Color as rating_Color,rb.rating_Text as rating_Text,rb.votes as votes,rlb.country_Code as country_Code,rlb.city as city, \r\n" + 
			"rlb.address as address,rlb.locality as locality,rlb.locality_Verbose as locality_Verbose,rlb.longitude as longitude,rlb.latitude as latitude \r\n" + 
			"from restaurant_bean rb left join restaurant_location_bean rlb on rb.id=rlb.id\r\n" + 
			"",  nativeQuery = true)
	List<ResturantandLocationDTO> getAllResturantDetails();

}
